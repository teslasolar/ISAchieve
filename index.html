<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ISAchieve - Dynamic Dashboard</title>
    <link rel="stylesheet" href="styles/dashboard.css">
</head>
<body>
    <button class="grid-toggle" id="gridToggle">Toggle Grid Layout</button>
    
    <div id="app">
        <!-- Dashboard will be mounted here -->
    </div>

    <script type="module">
        import Dashboard from './components/organisms/Dashboard.js';

        // Initialize dashboard when DOM is ready
        let dashboard;
        
        async function initApp() {
            dashboard = new Dashboard({
                configPaths: ['center', 'north', 'east', 'south', 'west'],
                tags: ['main-dashboard'],
                layout: 'default'
            });

            await dashboard.init();
            
            const app = document.getElementById('app');
            dashboard.mount(app);

            // Expose to window for console access
            window.dashboard = dashboard;
        }

        document.addEventListener('DOMContentLoaded', initApp);

        // Setup grid toggle
        document.getElementById('gridToggle').addEventListener('click', () => {
            if (window.dashboard) {
                window.dashboard.toggleLayout();
            }
        });
    </script>
</body>
</html>
